exit 
history 
sudo -i 
ssh worker1
sudo worker1
exit
sudo -i 
vim ~/.bashrc
source ~/.bashrc
worker1
worker2
clear
exit
cat .bashrc
sudo -i 
worker1
storage1
ssh-keygen 
for user in root ubuntu 
for user in ubuntu; do
for user in ubuntu; do   for hostname in master worker proxy storage;  do     for instance 1 2 3
for user in ubuntu; do   for hostname in master worker proxy storage;  do   for instance 1 2 3
for hastname in master worker proxy storage; do    for instance 1 2 3 
for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -i /home/ubuntu/.ssh/id_rsa  ubuntu@$hostname$instance;  done; done
ssh-copy-id 

for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -o StrictHostKeyChecking=no  ubuntu@$hostname$instance;  done; done
ssh-keygen 
whomai
whoami
mv /home/ubuntu/.ssh/id_rsa /home/ubuntu/.ssh/id_rsa.old

for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -o StrictHostKeyChecking=no  ubuntu@$hostname$instance;  done; done
ssh-copy-id -o StrictHostKeyChecking=no ubuntu@worker1
worker1
worker2
master1
clear
worker1
sudo -i 
cp /home/ubuntu/.ssh/id_rsa.old /home/ubuntu/.ssh/id_rsa
worker1
rm -rf  /home/ubuntu/.ssh/id_rsa.pub 
rm -rf  /home/ubuntu/.ssh/id_rsa
cp /home/ubuntu/.ssh/id_rsa.old /home/ubuntu/.ssh/id_rsa
worker1
storage3
sudo -i 
sudo -i 
ls
cd /home/ubuntu/
mkdir roles/server_setup
mkdir -p roles/server_setup
cd roles/server_setup/
ansible-galaxy init
ansible-galaxy init server_config
ls
cd ..
ls
cd ..
ls
cd ..
ls
cd ubuntu/roles/server_setup/server_config/
ls
vim tasks/main.yml 
cat /etc/ansible/ansible.cfg 
cd ..
ls
cd ..
ls
cd ..
ls
vim ansible.cfg
ls
cp ansible.cfg roles/server_setup/
ls roles/server_setup/
ls
cd roles/server_setup/
ansible --version
clear
ansible --version
vim ansible.cfg 
ls
cp /etc/ansible/hosts /home/ubuntu/roles/server_setup/myhosts
vim ansible.cfg 
vim myhosts 
ansible -host all -m ping
ansible host all -m ping
ansible  all -m ping
ansible  all -m ping -v
ansible  all -m ping -vv
ssh worker1
sudo -i 
ssh worker1
vim /etc/hosts

sudo -i 
ssh worker1
ansible  all -m ping 
ls
ca /etc/os-release 
cat  /etc/os-release 
cat /etc/resolv.conf \
cat /etc/resolv.conf 
cat /etc/netplan/50-cloud-init.yaml 
sudo apt install dig
sudo apt install bind-utils
sudo apt install bind9-utils

dig @10.10.0.2 docker.io
ls
vim server_config/tasks/
ls
vim server_config/tasks/main.yml 
vim server_config/tasks/config_host.yml
cp /etc/hosts server_config/templates/hosts.template
ls
vim server_config/tasks/config_host.yml 
vim server_config/templates/hosts.template
vim server_config/tasks/config_host.yml 
vim server_config/tasks/main.yml 
vim server_config/tasks/config_host.yml 
ls
vim server_config/templates/hosts.j2
vim server_config/tasks/config_host.yml 
vcd ..
ls
vim server_config/tasks/
vim server_config/tasks/main.yml
vim server_config/tasks/docker_init.yml
vim server_config/tasks/main.yml
vim server_config/tasks/ntp_init.yml
vim server_config/tasks/config_host.yml 
cd ..
ls
cd ..
ls
vim server.yaml
tree
apt install tree
sudo apt install tree
tree
ls
cd roles/
ls
cd server_setup/
ls
cp ansible.cfg server_config/
cp myhosts  server_config/
cd server_config/
ls
ansible --version
cd ../..
ls
mv server_setup/* .
ls
tree server_setup/
rm -rf server_setup/
ls
cd ..
ls
clear
ls -ltrh
tree
ls
rm -rf ansible.cfg 
ls
ansible --version
ls
cp roles/ansible.cfg  .
cp roles/myhosts  .
ls
ansible --version
pwd
ls
cd roles/server_config/
ls
rm ansible.cfg 
rm myhosts 
ls
ansible --version
cd ..
ls
cp ansible.cfg server_config/
cp myhosts server_config/
ls
cd ..
ls
vim server.yaml 
tree
vim server.yaml 
ansible-playbook server.yaml 
ls
vim roles/server_config/tasks/main.yml 
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_host.yml
ansible-playbook server.yaml 
worker1
vim server.yaml 
ansible-playbook server.yaml 
worker1
ls
vim roles/server_config/tasks/config_host.yml 
worker1
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
worker1
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
cat /etc/hosts
pwd
ls
vim roles/server_config/tasks/config_dns.yml
cat /etc/netplan/50-cloud-init.yaml 
worker1
vim roles/server_config/tasks/config_dns.yml
vim roles/server_config/handlers/ma
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/tasks/main.yml 
ls
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/handlers/main.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_host.yml 
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/tasks/config_host.yml 
ansible-playbook server.yaml 
vim server.yaml 
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
worker1 
exit
cd /home/ubuntu/
ls
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/docker_init.yml 
vim roles/server_config/tasks/config_dns.yml 

vim roles/server_config/tasks/main.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/main.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/handlers/main.yml
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 

ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
