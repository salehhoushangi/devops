exit 
history 
sudo -i 
ssh worker1
sudo worker1
exit
sudo -i 
vim ~/.bashrc
source ~/.bashrc
worker1
worker2
clear
exit
cat .bashrc
sudo -i 
worker1
storage1
ssh-keygen 
for user in root ubuntu 
for user in ubuntu; do
for user in ubuntu; do   for hostname in master worker proxy storage;  do     for instance 1 2 3
for user in ubuntu; do   for hostname in master worker proxy storage;  do   for instance 1 2 3
for hastname in master worker proxy storage; do    for instance 1 2 3 
for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -i /home/ubuntu/.ssh/id_rsa  ubuntu@$hostname$instance;  done; done
ssh-copy-id 

for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -o StrictHostKeyChecking=no  ubuntu@$hostname$instance;  done; done
ssh-keygen 
whomai
whoami
mv /home/ubuntu/.ssh/id_rsa /home/ubuntu/.ssh/id_rsa.old

for hastname in master worker proxy storage; do   for instance in 1 2 3;  do   ssh-copy-id -o StrictHostKeyChecking=no  ubuntu@$hostname$instance;  done; done
ssh-copy-id -o StrictHostKeyChecking=no ubuntu@worker1
worker1
worker2
master1
clear
worker1
sudo -i 
cp /home/ubuntu/.ssh/id_rsa.old /home/ubuntu/.ssh/id_rsa
worker1
rm -rf  /home/ubuntu/.ssh/id_rsa.pub 
rm -rf  /home/ubuntu/.ssh/id_rsa
cp /home/ubuntu/.ssh/id_rsa.old /home/ubuntu/.ssh/id_rsa
worker1
storage3
sudo -i 
sudo -i 
ls
cd /home/ubuntu/
mkdir roles/server_setup
mkdir -p roles/server_setup
cd roles/server_setup/
ansible-galaxy init
ansible-galaxy init server_config
ls
cd ..
ls
cd ..
ls
cd ..
ls
cd ubuntu/roles/server_setup/server_config/
ls
vim tasks/main.yml 
cat /etc/ansible/ansible.cfg 
cd ..
ls
cd ..
ls
cd ..
ls
vim ansible.cfg
ls
cp ansible.cfg roles/server_setup/
ls roles/server_setup/
ls
cd roles/server_setup/
ansible --version
clear
ansible --version
vim ansible.cfg 
ls
cp /etc/ansible/hosts /home/ubuntu/roles/server_setup/myhosts
vim ansible.cfg 
vim myhosts 
ansible -host all -m ping
ansible host all -m ping
ansible  all -m ping
ansible  all -m ping -v
ansible  all -m ping -vv
ssh worker1
sudo -i 
ssh worker1
vim /etc/hosts

sudo -i 
ssh worker1
ansible  all -m ping 
ls
ca /etc/os-release 
cat  /etc/os-release 
cat /etc/resolv.conf \
cat /etc/resolv.conf 
cat /etc/netplan/50-cloud-init.yaml 
sudo apt install dig
sudo apt install bind-utils
sudo apt install bind9-utils

dig @10.10.0.2 docker.io
ls
vim server_config/tasks/
ls
vim server_config/tasks/main.yml 
vim server_config/tasks/config_host.yml
cp /etc/hosts server_config/templates/hosts.template
ls
vim server_config/tasks/config_host.yml 
vim server_config/templates/hosts.template
vim server_config/tasks/config_host.yml 
vim server_config/tasks/main.yml 
vim server_config/tasks/config_host.yml 
ls
vim server_config/templates/hosts.j2
vim server_config/tasks/config_host.yml 
vcd ..
ls
vim server_config/tasks/
vim server_config/tasks/main.yml
vim server_config/tasks/docker_init.yml
vim server_config/tasks/main.yml
vim server_config/tasks/ntp_init.yml
vim server_config/tasks/config_host.yml 
cd ..
ls
cd ..
ls
vim server.yaml
tree
apt install tree
sudo apt install tree
tree
ls
cd roles/
ls
cd server_setup/
ls
cp ansible.cfg server_config/
cp myhosts  server_config/
cd server_config/
ls
ansible --version
cd ../..
ls
mv server_setup/* .
ls
tree server_setup/
rm -rf server_setup/
ls
cd ..
ls
clear
ls -ltrh
tree
ls
rm -rf ansible.cfg 
ls
ansible --version
ls
cp roles/ansible.cfg  .
cp roles/myhosts  .
ls
ansible --version
pwd
ls
cd roles/server_config/
ls
rm ansible.cfg 
rm myhosts 
ls
ansible --version
cd ..
ls
cp ansible.cfg server_config/
cp myhosts server_config/
ls
cd ..
ls
vim server.yaml 
tree
vim server.yaml 
ansible-playbook server.yaml 
ls
vim roles/server_config/tasks/main.yml 
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_host.yml
ansible-playbook server.yaml 
worker1
vim server.yaml 
ansible-playbook server.yaml 
worker1
ls
vim roles/server_config/tasks/config_host.yml 
worker1
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
worker1
vim roles/server_config/templates/hosts.j2 
ansible-playbook server.yaml 
cat /etc/hosts
pwd
ls
vim roles/server_config/tasks/config_dns.yml
cat /etc/netplan/50-cloud-init.yaml 
worker1
vim roles/server_config/tasks/config_dns.yml
vim roles/server_config/handlers/ma
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/tasks/main.yml 
ls
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/handlers/main.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/config_host.yml 
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/tasks/config_host.yml 
ansible-playbook server.yaml 
vim server.yaml 
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
worker1 
exit
cd /home/ubuntu/
ls
vim roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/docker_init.yml 
vim roles/server_config/tasks/config_dns.yml 

vim roles/server_config/tasks/main.yml 
ansible-playbook server.yaml 
vim roles/server_config/tasks/main.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/handlers/main.yml
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 

ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/tasks/config_dns.yml 
ansible-playbook server.yaml 
worker1
rm /home/ubuntu/roles/server_config/templates/hosts.template 

rm /home/ubuntu/roles/server_config/tasks/docker_init.yml 
vim /home/ubuntu/roles/server_config/tasks/docker_init.yml 
ansible-playbook server.yaml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 
vim /home/ubuntu/roles/server_config/tasks/docker_init.yml 
vim /home/ubuntu/roles/server_config/handlers/main.yml 
ansible-playbook server.yaml 
ls
git init
ls -ltrh
git add .
git commit -m "server_config ansible role"
git config --global user.email "salehstudent@gmail.com"
git commit -m "server_config ansible role"
git remote add origin https://github.com/salehhoushangi/devops.git
git branch -M main
git push -u origin main
git branch -M main
git push -u origin main
gpg --gen-key
ls
ls -ltrh
gpg --list-secret-keys --keyid-format=long
gpg --armor --export BA7AD188AEA3A6C6
git push -u origin main
ssh -T git@github.com
ls -ltrh
git push -u origin main
git@github.com:salehhoushangi/devops.git
git push -u origin main
git remote add origin git@github.com:salehhoushangi/devops.git
git push -u origin main
git remote add origin https://github.com/salehhoushangi/devops.git
git branch -M main
git push -u origin main
git branch -a
git remote rm origin
git branch -a
git remote show origin
git remote remove origin
git remote add origin git@github.com:salehhoushangi/devops.git
git push -u origin main
ls
git add .
git commit -m "server_config ansible role"
git push -u origin main
git push 
git push origin main
history 
git push -u origin master
git branch -a
git push
exit
vim /home/ubuntu/roles/server_config/tasks/ntp_init.yml 
clear
ssh-keygen-f ~/.ssh/id_rsa -y > ~/.ssh/id_rsa.pub
ssh-keygen -f ~/.ssh/id_rsa -y > ~/.ssh/id_rsa.pub
cat /home/ubuntu/.ssh/id_rsa.pub 
ls
sudo -i 
history  | grep git
date
timdatectl
timedatectl
ls
cd ..
ls
cd ubuntu/
ls
mkdir docker_image
cd docker_image/

mv dockerfile.yaml Dockerfile.yml
vim Dockerfile.yml 
sudo su
ls
cp docker_image/Dockerfile.yml  roles/server_config/templates/hosts.j2 
vim roles/server_config/tasks/config_dns.yml 
vim roles/server_config/tasks/config_host.yml 
ansible-galaxy search ntp
clear
cd roles/server_config/
ls
cp ../../docker_image/Dockerfile.yml templates/
vim templates/Dockerfile.yml 
ls
mkdir Build_img
ls
fv 
cd Build_img/
ls
mv ../templates/Dockerfile.yml .
ls
vim Dockerfile.yml 
pwd
cd ..
ls
cd templates/
ls
vim chrony_server.conf
vim chrony_client.conf
cd ..
cd tasks/
ls
vim ntp_docker.yml
cd ..
ls
vim tasks/ntp_docker.yml 
ls
vim Build_img/Dockerfile.yml 
cd templates/
pwd
vim ../Build_img/Dockerfile.yml 
ls /home/ubuntu/roles/server_config/templates/chrony_server.conf 
ls -ltrh  /home/ubuntu/roles/server_config/templates/chrony_server.conf 
cd ..
vim tasks/ntp_docker.yml 
cp templates/chrony_server.conf Build_img/
cd Build_img/
ls
vim Dockerfile.yml 
pwd
vi Dockerfile.yml 
ls
mv Dockerfile.yml Dockerfile
ls
docker build -t ntp-test-server .
sudo docker build -t ntp-test-server .
docker login
sudo -i 
clear
ls
cd ..
ls
cd ..
ls
cd cd server_config/
ls
cat  server_config/tasks/config_host.yml 
ls
cat server_config/templates/hosts.j2 
vim server_config/templates/hosts.j2 
ls server_config/templates/hosts.j2 
vim server_config/templates/hosts.j2 
ls
cd ..
ls
ansible-playbook server.yaml 
proxy 
proxy3
storage3
ls
cd ..
ls
cd ubuntu/
ls
cd roles/server_config/
ls
clear
tree
ls
cd roles/
git push
git commit -m "install dockerce-cli and ..."
git add .
git commit -m "install dockerce-cli and ..."
git push
cleer
clear
sudo -i 
cd /home/ubuntu/roles/server_config/
ls
git add .
git commit "12-dec-2021"
history | grep git
git commit -m  "12-dec-2021"
ls
cd ..
ls
git add .
git commit -m  "12-dec-2021"
git push 
sudo curl -L "https://github.com/docker/compose/releases/download/1.27.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
ls
cd ..
ls
cd ..
ls
cd ubuntu/
ls
mkdir docker-compose
cd docker-compose/
ls
sudo curl -L "https://github.com/docker/compose/releases/download/1.27.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
docker ps -a
sudo docker ps -a
docker stop ntp-server:v0.1
sudo docker stop ntp-server:v0.1
sudo docker stop b5ebd7e53fe1
sudo docker ps -a
docker images ls
sudi docker images ls
sudo -i 
